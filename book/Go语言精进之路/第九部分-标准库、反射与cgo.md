# 标准库、反射与cgo

## 50 理解 Go TCP Socket 网络编程模型

### TCP Socket 网络编程模型

- **阻塞 I/O 模型**：在用户空间应用线程向操作系统内核发起 I/O 请求后（一般为操作系统提供的 I/O 系统调用），内核将尝试执行该 I/O 操作，并等所有数据就绪后，将数据从内核空间复制到用户空间，最后系统调用从内核空间返回。在这期间，用户空间应用线程将阻塞在该 I/O 系统调用上，无法进行后续处理，只能等待。
- **非阻塞 I/O 模型**：在用户空间线程向操作系统内核发起 I/O 请求后，内核会执行该 I/O 操作。如果此刻数据尚未就绪，就会立即将“未就绪”的状态以错误码形式返回给此次 I/O 系统调用的发起者。而后者则根据系统调用的返回状态决定下一步如何做。位于用户空间的 I/O 请求发起者通常会通过轮询的方式一次次发起 I/O 请求，直到读到所需的数据。
- **I/O 多路复用模型**：应用线程首先将需要进行 I/O 操作的 Socket 都添加到多路复用函数中，接着阻塞，等待系统调用返回。当内核发现有数据到达时，对应的 Socket 具备通信条件，函数返回。然后用户线程针对该 Socket 再次发起网络 I/O 请求。

## 参考

《Go 语言精进之路：从新手到高手的编程思想、方法和技巧》——白明